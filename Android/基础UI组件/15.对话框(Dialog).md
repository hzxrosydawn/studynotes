## **对话框(Dialog)详解**

对话框是提示用户作出决定或输入额外信息的小窗口。 对话框不会填充屏幕，通常用于需要用户采取行动才能继续执行的模式事件。Dialog 类是对话框的基类，但您应该避免直接实例化 Dialog，而是使用下列子类之一：

- [AlertDialog](https://developer.android.com/reference/android/app/AlertDialog.html) ：此对话框可显示图标、标题、最多三个按钮、可选择项列表或自定义布局；
- [DatePickerDialog](https://developer.android.com/reference/android/app/DatePickerDialog.html) 或 [TimePickerDialog](https://developer.android.com/reference/android/app/TimePickerDialog.html) ：日期或时间的选择对话框。应该将 [DialogFragment](https://developer.android.com/reference/android/support/v4/app/DialogFragment.html) 用作对话框的容器。DialogFragment 类提供您创建对话框和管理其外观所需的所有控件，而不是调用 Dialog 对象上的方法。
- [ProgressDialog](https://developer.android.com/reference/android/app/ProgressDialog.html) ：仅包含进度条的对话框。

对话框一般包含以下四个部分：

1. **标题** ：这是可选项，只应在内容区域被详细消息、列表或自定义布局占据时使用。 如需陈述的是一条简单消息或问题，则不需要标题；
2. **图标** ：这也是可选项，用于显示对话框的图标；
3. **内容区域** ：它可以显示消息、列表或其他自定义布局；
4. **操作按钮** ：对话框中的操作按钮不应超过三个。

### **AlertDialog详解**

AlertDialog 代表一个一般对话框。通过其内部类[AlertDialog.Builder](https://developer.android.com/reference/android/app/AlertDialog.Builder.html) 来创建对话框，该内部类包含以下常用方法：

- AlertDialog.Builder setIcon(Drawable icon)：设置图标；
- AlertDialog.Builder **setIcon**(int iconId)：设置图标；
- AlertDialog.Builder setIconAttribute(int attrId)：通过指定主题属性的Id来设置图标，优先级高于上面两个的图标设置方法；
- AlertDialog.Builder **setTitle**(CharSequence title)：设置标题；
- AlertDialog.Builder setTitle(int titleId)：设置标题；
- AlertDialog.Builder **setCustomTitle**(View customTitleView)：设置自定义的标题View；
- AlertDialog.Builder setItems(int itemsId, DialogInterface.OnClickListener listener)：设置内容区域的列表项；
- AlertDialog.Builder setItems(CharSequence[] items, DialogInterface.OnClickListener listener)：：设置内容区域的列表项；
- AlertDialog.Builder **setMessage**(int messageId)：如果仅需要显示一些简单文本信息，不需要标题，就可使用该方法设置简单的文本信息；
- AlertDialog.Builder setMessage(CharSequence message)：如果仅需要显示一些简单文本信息，不需要标题，就可使用该方法设置简单的文本信息；
- AlertDialog.Builder **setMultiChoiceItems**(CharSequence[] items, boolean[] checkedItems, DialogInterface.OnMultiChoiceClickListener listener)：设置内容区域多选列表项；
- AlertDialog.Builder setMultiChoiceItems(Cursor cursor, String isCheckedColumn, String labelColumn, DialogInterface.OnMultiChoiceClickListener listener)：设置内容区域多选列表项；
- AlertDialog.Builder setMultiChoiceItems(int itemsId, boolean[] checkedItems, DialogInterface.OnMultiChoiceClickListener listener)：设置内容区域多选列表项；
- AlertDialog.Builder **setNegativeButton**(CharSequence text, DialogInterface.OnClickListener listener)：设置否定按钮；
- AlertDialog.Builder setNegativeButton(int textId, DialogInterface.OnClickListener listener)：设置否定按钮；
- AlertDialog.Builder **setNeutralButton**(CharSequence text, DialogInterface.OnClickListener listener)：设置中间按钮；
- AlertDialog.Builder setNeutralButton(int textId, DialogInterface.OnClickListener listener)：设置中间按钮；
- AlertDialog.Builder **setPositiveButton**(int textId, DialogInterface.OnClickListener listener)：设置确定按钮；
- AlertDialog.Builder setPositiveButton(CharSequence text, DialogInterface.OnClickListener listener)：设置确定按钮；
- AlertDialog.Builder **setOnCancelListener**(DialogInterface.OnCancelListener onCancelListener)：设置取消按钮的监听器；
- AlertDialog.Builder **setOnDismissListener**(DialogInterface.OnDismissListener onDismissListener)：设置对话框消失的监听器；
- AlertDialog.Builder **setOnItemSelectedListener**(AdapterView.OnItemSelectedListener listener)：设置列表项被选中的监听器；
- AlertDialog.Builder setOnKeyListener(DialogInterface.OnKeyListener onKeyListener)：设置该对话框绑定的按键的监听器；
- AlertDialog.Builder setSingleChoiceItems(int itemsId, int checkedItem, DialogInterface.OnClickListener listener)：设置单选列表项；
- AlertDialog.Builder **setSingleChoiceItems**(ListAdapter adapter, int checkedItem, DialogInterface.OnClickListener listener)：设置单选列表项；
- AlertDialog.Builder setSingleChoiceItems(Cursor cursor, int checkedItem, String labelColumn, DialogInterface.OnClickListener listener)：设置单选列表项；
- AlertDialog.Builder setSingleChoiceItems(CharSequence[] items, int checkedItem, DialogInterface.OnClickListener listener)：设置单选列表项；
- AlertDialog.Builder **setView**(int layoutResId)：为该对话框设置自定义布局作为内容区域的View；
- AlertDialog.Builder setView(View view)：为该对话框设置自定义布局作为内容区域的View；
- AlertDialog create()：创建一个使用该创造器设定参数的AlertDialog；
- AlertDialog **show**()：显示设置过参数、以创建好的对话框；
- Context getContext()：返回该创造器创建的对话框的Context 对象；
- AlertDialog.Builder **setAdapter**(ListAdapter adapter, DialogInterface.OnClickListener listener)：为对话框内容区域的列表设置Adapter；
- AlertDialog.Builder setCancelable(boolean cancelable)：设置创建的对话框是否可取消（是否含有取消按钮）；
- AlertDialog.Builder setCursor(Cursor cursor, DialogInterface.OnClickListener listener, String labelColumn)：为对话框内容区域的列表设置Cursor。


### **DatePickerDialog和TimePickerDialog详解**

这两个类代表一个日期和时间的选择器对话框。Android推荐使用这两个类创建日期、时间的选择器。而不是直接使用DataPicker和TimePicker。

DatePickerDialog类内部包含一个函数式接口public static interface DatePickerDialog.OnDateSetListener ，负责监听日期的改变，TimePickerDialog类也有类似的内部接口负责监听事件的改变。

### **ProgressDialog类详解**

该类代表一个可通过按下返回键取消的包含进度条的对话框。它含有两个常量STYLE_HORIZONTAL和STYLE_SPINNER来指定进度条的类型。常用方法如下：

- int	getMax()：获取最大进度；
- int	getProgress()：返回当前进度；
- int	getSecondaryProgress()：获取当前的次级进度；
- void incrementProgressBy(int diff)：增加指定数量的进度；
- void incrementSecondaryProgressBy(int diff)：增加指定数量的次级进度；
- boolean	isIndeterminate()：是否为不确定进度模式；
- void onStart()：进度开始时回调该方法；
- void setIndeterminate(boolean indeterminate)：设置是否为不确定进度模式；
- void setIndeterminateDrawable(Drawable d)：设置不确定进度模式所用的Drawable；
- void	setMax(int max)：设置最大进度值；
- void	setMessage(CharSequence message)：设置对话框的提示信息；
- void	setProgress(int value)：设置当前进度值；
- void	setProgressDrawable(Drawable d)：设置进度所用的Drawable对象；
- void	setProgressNumberFormat(String format)：设置进度数值格式；
- void	setProgressPercentFormat(NumberFormat format)：设置进度百分比格式；
- void	setProgressStyle(int style)：设置进度的样式；
- void	setSecondaryProgress(int secondaryProgress)：设置次级进度值；
- static ProgressDialog	**show**(Context context, CharSequence title, CharSequence message)：该静态方法用于创建一个进度条对话框；
- static ProgressDialog	show(Context context, CharSequence title, CharSequence message, boolean indeterminate, boolean cancelable, DialogInterface.OnCancelListener cancelListener)：该静态方法用于创建一个进度条对话框；
- static ProgressDialog	**show(Context context, CharSequence title, CharSequence message, boolean indeterminate, boolean cancelable)**：该静态方法用于创建一个进度条对话框；
- static ProgressDialog	show(Context context, CharSequence title, CharSequence message, boolean indeterminate)：该静态方法用于创建一个进度条对话框。



